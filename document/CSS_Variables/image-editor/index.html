<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>CSS Variables</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <h2>Update CSS Variables with <span class="heading">JS</span></h2>
    <div class="controls">

      <!-- input type range -  this is a sliding button? think volume adjustment  -->
      <label for="blur" class="flex-item">Blur:</label>
      <!-- label for id  -->
      <input id="blur" class="flex-item" type="range" name="blur" value="10" min="0" max="25" data-sizing="px">

      <label for="frame" class="flex-item">Frame:</label>
      <input id="frame" class="flex-item" type="range" name="frame-size" value="10" min="0" max="200" data-sizing="px">

      <label for="frame-color" class="flex-item">Frame color:</label>
      <input id="frame-color" class="flex-item" type="color" name="frame-color" value="#ffc600">

    </div>
    <img src="https://cdn.pixabay.com/photo/2019/08/31/16/31/cat-4443649_960_720.jpg" class="image" alt="image of a cat">

    <script type="text/javascript">
      const inputEls = document.querySelectorAll(".controls input");
      //  inputEls is a node list

      // define event handler
      const changeHandler = function(){
        // this inside this function is going to be the input element
        // that was chnaged last

        // create suffix which is defined in the element's data-* attribute
        // or if undefined, suffix is empty string
        var suffix = this.dataset.sizing || "";
        // dataset access data-* attribute, its and object
        // dataset.sizing accesses data-sizing attribute

        // update the CSS variables
        // the name of the input element correspnds to the varibale name!
        document.documentElement.style.setProperty(`--${this.name}`, this.value + suffix);
        // this the value is the new value, the user has changed

      };

      // iterate thru inputEls and attach an event listener to each one that
      // will call an event handler
      inputEls.forEach(item => item.addEventListener("change", changeHandler));
      inputEls.forEach(item => item.addEventListener("mousemove", changeHandler));

    </script>


  </body>
</html>
